combos {
    compatible = "zmk,combos";

    // ===== TAB AND RETURN COMBOS (50ms timeout, 100ms require-prior-idle) =====
    combo_tab {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <12 13>;  // S+T → Return
        bindings = <&kp RET>;
        layers = <0 1 2 3 4 5>;
    };
    combo_return {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <16 17>;  // N+E → Tab
        bindings = <&kp TAB>;
        layers = <0 1 2 3 4 5>;
    };
    combo_escape {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <15 16>;  // M+N → Escape
        bindings = <&kp ESC>;
        layers = <0>;
    };
    combo_exit {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <15 16>;  // M+N → Exit to default layer
        bindings = <&to 0>;
        layers = <2 3 4 5>;
    };

    // ===== VERTICAL COMBOS (50ms timeout, 100ms require-prior-idle) =====
    // Symbol combos
    combo_tilde {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <2 3>;  // F+P → ~
        bindings = <&kp TILDE>;
        layers = <0 1 2 3 4 5>;
    };
    combo_grave {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <6 7>;  // L+U → `
        bindings = <&kp GRAVE>;
        layers = <0 1 2 3 4 5>;
    };
    combo_less_than {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <22 23>;  // C+D → <
        bindings = <&kp LT>;
        layers = <0 1 2 3 4 5>;
    };
    combo_greater_than {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <26 27>;  // H+, → >
        bindings = <&kp GT>;
        layers = <0 1 2 3 4 5>;
    };

    // Edit combos
    combo_copy_vert {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <1 11>;  // W+R → Copy (Shift+Copy = Cut)
        bindings = <&copy_cut>;
        layers = <0 1 2 3 4 5>;
    };
    combo_delete {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <3 4>;  // P+B → Undo (Shift+P+B → Redo)
        bindings = <&undo_redo>;
        layers = <0 1 2 3 4 5>;
    };
    combo_scroll_left {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <10 0>;  // A+Q → Scroll Left
        bindings = <&msc SCRL_LEFT>;
        layers = <0 1 2 3 4 5>;
    };
    combo_undo {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <13 14>;  // T+G → Delete
        bindings = <&kp DEL>;
        layers = <0 1 2 3 4 5>;
    };
    combo_middle_click {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <23 24>;  // D+V → Middle Click
        bindings = <&mkp MB3>;
        layers = <0 1 2 3 4 5>;
    };
    combo_paste_vert {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <3 13>;  // P+T → Paste
        bindings = <&kp K_PASTE>;
        layers = <0 1 2 3 4 5>;
    };
    combo_mouse_up {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <2 12>;  // F+S → Mouse Up
        bindings = <&mmv MOVE_UP>;
        layers = <0 1 2 3 4 5>;
    };
    combo_mouse_left {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <11 21>;  // R+X → Mouse Left
        bindings = <&mmv MOVE_LEFT>;
        layers = <0 1 2 3 4 5>;
    };
    combo_mouse_down {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <12 22>;  // S+C → Mouse Down
        bindings = <&mmv MOVE_DOWN>;
        layers = <0 1 2 3 4 5>;
    };
    combo_mouse_right {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <13 23>;  // T+D → Mouse Right
        bindings = <&mmv MOVE_RIGHT>;
        layers = <0 1 2 3 4 5>;
    };
    combo_scroll_up {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <4 14>;  // B+G → Scroll Up
        bindings = <&msc SCRL_UP>;
        layers = <0 1 2 3 4 5>;
    };
    combo_scroll_down {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <14 24>;  // G+V → Scroll Down
        bindings = <&msc SCRL_DOWN>;
        layers = <0 1 2 3 4 5>;
    };

    // Mouse click combos
    combo_left_click {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <5 6>;  // J+L → Left Click
        bindings = <&mkp MB1>;
        layers = <0 1 2 3 4 5>;
    };
    combo_scroll_right {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <9 19>;  // '+O → Scroll Right
        bindings = <&msc SCRL_RIGHT>;
        layers = <0 1 2 3 4 5>;
    };
    combo_right_click {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <25 26>;  // K+H → Right Click
        bindings = <&mkp MB2>;
        layers = <0 1 2 3 4 5>;
    };

    // Navigation combos
    combo_page_up {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <5 15>;  // J+M → Page Up
        bindings = <&kp PG_UP>;
        layers = <0 1 2 3 4 5>;
    };
    combo_home {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <6 16>;  // L+N → Home
        bindings = <&kp HOME>;
        layers = <0 1 2 3 4 5>;
    };
    combo_up {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <7 17>;  // U+E → Up
        bindings = <&kp UP>;
        layers = <0 1 2 3 4 5>;
    };
    combo_end {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <8 18>;  // Y+I → End
        bindings = <&kp END>;
        layers = <0 1 2 3 4 5>;
    };
    combo_page_down {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <15 25>;  // M+K → Page Down
        bindings = <&kp PG_DN>;
        layers = <0 1 2 3 4 5>;
    };
    combo_left {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <16 26>;  // N+H → Left
        bindings = <&kp LEFT>;
        layers = <0 1 2 3 4 5>;
    };
    combo_down {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <17 27>;  // E+, → Down
        bindings = <&kp DOWN>;
        layers = <0 1 2 3 4 5>;
    };
    combo_right {
        timeout-ms = <50>;
        require-prior-idle-ms = <100>;
        key-positions = <18 28>;  // I+. → Right
        bindings = <&kp RIGHT>;
        layers = <0 1 2 3 4 5>;
    };
};
